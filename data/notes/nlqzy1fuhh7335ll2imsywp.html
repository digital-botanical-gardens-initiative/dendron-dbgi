<h1 id="2023-04-12">2023-04-12<a aria-hidden="true" class="anchor-heading icon-link" href="#2023-04-12"></a></h1>
<h1 id="this-is-maëlles-dbgi-daily-open-notebook">This is Maëlle's DBGI daily open-notebook.<a aria-hidden="true" class="anchor-heading icon-link" href="#this-is-maëlles-dbgi-daily-open-notebook"></a></h1>
<p>Today is 2023.04.12</p>
<h2 id="todo">TODO<a aria-hidden="true" class="anchor-heading icon-link" href="#todo"></a></h2>
<ul>
<li>Check discussion: <a href="https://github.com/orgs/digital-botanical-gardens-initiative/discussions">https://github.com/orgs/digital-botanical-gardens-initiative/discussions</a></li>
<li>Check Zulip</li>
</ul>
<h2 id="code">CODE<a aria-hidden="true" class="anchor-heading icon-link" href="#code"></a></h2>
<h2 id="notes">NOTES<a aria-hidden="true" class="anchor-heading icon-link" href="#notes"></a></h2>
<h2 id="todo-next">TODO NEXT<a aria-hidden="true" class="anchor-heading icon-link" href="#todo-next"></a></h2>
<h2 id="important-for-redaction">Important for redaction<a aria-hidden="true" class="anchor-heading icon-link" href="#important-for-redaction"></a></h2>
<p>To make the calculate_similarity more efficient:</p>
<ol>
<li>
<p>Use a fingerprint-based similarity measure instead of Maximum Common Substructure (MCS). Fingerprint-based similarity is generally faster and more suitable for large datasets. You can use the RDKit's Morgan fingerprints (also known as ECFP or Extended Connectivity Fingerprints).</p>
</li>
<li>
<p>Use a parallel processing library like concurrent.futures to speed up the similarity calculation by utilizing multiple CPU cores.</p>
</li>
<li>
<p>Fetch molecules from the PostgreSQL database in batches to avoid loading all molecules into memory at once.</p>
</li>
</ol>
<p>Which threshold is the best?
The ideal threshold for Tanimoto similarity depends on your specific use case and the desired level of similarity between molecules. There's no one-size-fits-all answer, but here are some general guidelines:</p>
<pre><code>A threshold of 0.7-0.8 is often used for finding moderately similar molecules. This range is considered to provide a good balance between retaining some diversity and ensuring that the molecules share significant structural features.

A higher threshold (e.g., >0.85) is suitable when you want to find molecules that are highly similar or almost identical to the reference molecule. This is helpful in cases like identifying analogs or finding molecules with very similar properties.

A lower threshold (e.g., &#x3C;0.7) can be used if you want to include more diverse molecules that still share some structural features with the reference molecule. This is useful when you're looking for a broader range of potentially interesting molecules, for instance, in a scaffold hopping approach in drug discovery.
</code></pre>
<p>It's important to note that the choice of threshold is highly dependent on the molecular fingerprints you're using and the specific requirements of your application. You might need to experiment with different thresholds to find the one that works best for your needs. Additionally, keep in mind that the distribution of Tanimoto similarity values may vary across different datasets, so the ideal threshold might change when working with different molecular libraries.</p>