<h1 id="2023-04-18">2023-04-18<a aria-hidden="true" class="anchor-heading icon-link" href="#2023-04-18"></a></h1>
<h1 id="this-is-edouards-dbgi-daily-open-notebook">This is Edouard's DBGI daily open-notebook.<a aria-hidden="true" class="anchor-heading icon-link" href="#this-is-edouards-dbgi-daily-open-notebook"></a></h1>
<p>Today is 2023.04.18</p>
<h1 id="to-do">To do<a aria-hidden="true" class="anchor-heading icon-link" href="#to-do"></a></h1>
<h1 id="done">done<a aria-hidden="true" class="anchor-heading icon-link" href="#done"></a></h1>
<h1 id="perspectives">Perspectives<a aria-hidden="true" class="anchor-heading icon-link" href="#perspectives"></a></h1>
<h1 id="notes">notes<a aria-hidden="true" class="anchor-heading icon-link" href="#notes"></a></h1>
<p>Today I succeeded to add the DBGI code automatically in iNaturalist by modifying the pictures metadata. Here is how to do it:</p>
<p>exiftool -Subject="dbgi_123456" ./test_img/IMG_20221103_125701.jpg</p>
<p>And here how to add coordinates to the pictures:</p>
<p>exiftool -XMP:GPSLongitude="7.211111"  -XMP:GPSLatitude="46.2000000"  -GPSLongitudeRef="West" -GPSLatitudeRef="North" ./test_img/IMG_20221103_125701.jpg</p>
<p>I have actually a problem with the set up of the API to generate automatically the csv from QField. It seems that the QFieldCloud set-up is not properly made to manage the API. I'll see that later.</p>
<p>The DBGI code is no more added in the observation field section, but in the tags section. I discussed with Pierre-Marie and Emmanuel and it's not so bad, I just have to add the identifier as a prefix in the format emi_external_id:dbgi_123456. I have to discuss with Maelle, because this change will affect the export bot for iNaturalist.</p>
<p>The goal is then to create automated scripts that will execute automatically once a day. This will permit to treat the pictures automatically, and so improve a lot the iNaturalist import. The pictures will be processed (add of coordinates and DBGI code and a compression process if they are bigger than 5MB) and then stored on a cloud instance (probably Nextcloud, that I can self-host on my server). With that, the iNaturalist import can be done with a click bot, or rapidly done by hand.</p>
<p>It's all for today.</p>
<h1 id="code">code<a aria-hidden="true" class="anchor-heading icon-link" href="#code"></a></h1>
<h1 id="links">links<a aria-hidden="true" class="anchor-heading icon-link" href="#links"></a></h1>