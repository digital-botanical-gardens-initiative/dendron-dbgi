<h1 id="2022-11-29">2022-11-29<a aria-hidden="true" class="anchor-heading icon-link" href="#2022-11-29"></a></h1>
<h1 id="this-is-edouards-dbgi-daily-open-notebook">This is Edouard's DBGI daily open-notebook.<a aria-hidden="true" class="anchor-heading icon-link" href="#this-is-edouards-dbgi-daily-open-notebook"></a></h1>
<p>Today is 2022.11.29</p>
<h1 id="to-do">To do<a aria-hidden="true" class="anchor-heading icon-link" href="#to-do"></a></h1>
<h1 id="done">done<a aria-hidden="true" class="anchor-heading icon-link" href="#done"></a></h1>
<p>Today I finished the processus for the JBN map.</p>
<h1 id="reminder">Reminder<a aria-hidden="true" class="anchor-heading icon-link" href="#reminder"></a></h1>
<p>To remind, for the COG (Cloud Optimized Geotiff) translation, I use the cogprep where I installed gdal</p>
<p>Creation of the environment and installation of gdal (windows):</p>
<ul>
<li>
<p>open anaconda3 prompt</p>
</li>
<li>
<p>type : conda create --name cogprep</p>
</li>
<li>
<p>type : conda activate cogprep</p>
</li>
<li>
<p>type : conda install -c conda-forge gdal. It should install without error the 3.6.1 version of gdal</p>
</li>
</ul>
<p>Conversion of the tif to cog tif :</p>
<ul>
<li>
<p>Download the validation code <a href="https://github.com/rouault/cog_validator/archive/refs/heads/master.zip">here</a>, unzip it and place the tif inside this folder</p>
</li>
<li>
<p>On anaconda3 prompt go to the folder with the cd function, for example : cd .\desktop\DBGI_project\cog_validator-master\</p>
</li>
<li>
<p>Test if the tif is a cog tif with the command : python validate_cloud_optimized_geotiff.py <em>name_of_your_tif</em>.tif. It should indicate : <em>name_of_your_tif</em>.tif is NOT a valid cloud optimized Geotiff.</p>
</li>
<li>
<p>type : gdal_translate <em>name_of_your_tif</em>.tif <em>name_of_your_tif</em>_cog.tif -of COG -co COMPRESS=LZW</p>
</li>
<li>
<p>Now the tif should be translated to cog tif. To control, redo the command : python validate_cloud_optimized_geotiff.py <em>name_of_your_tif</em>_cog.tif. It should now indicate : <em>name_of_your_tif</em>_cog.tif is a valid cloud optimized GeoTIFF.</p>
</li>
</ul>
<p>You can now take the cog tif to import it on QGIS.</p>
<p>If you have warnings concerning the projection used (EPSG:2056), you can do an extra operation as following :</p>
<ul>
<li>
<p>gdalwarp <em>name_of_your_tif</em>.tif <em>name_of_your_tif</em>_wgs84.tif -t_srs WGS84</p>
</li>
<li>
<p>gdalwarp <em>name_of_your_tif</em>_wgs84.tif <em>name_of_your_tif</em>_2056.tif -t_srs EPSG:2056</p>
</li>
<li>
<p>Then you can make the gdal_translate with the <em>name_of_your_tif</em>_2056.tif as input</p>
</li>
</ul>
<h1 id="perspectives">Perspectives<a aria-hidden="true" class="anchor-heading icon-link" href="#perspectives"></a></h1>
<h1 id="notes">notes<a aria-hidden="true" class="anchor-heading icon-link" href="#notes"></a></h1>
<h1 id="code">code<a aria-hidden="true" class="anchor-heading icon-link" href="#code"></a></h1>
<h1 id="links">links<a aria-hidden="true" class="anchor-heading icon-link" href="#links"></a></h1>
<p><a href="https://opensourceoptions.com/blog/how-to-install-gdal-with-anaconda/">https://opensourceoptions.com/blog/how-to-install-gdal-with-anaconda/</a>
<a href="https://dev.to/ibrahimawadhamid/large-geotiff-raster-files-on-geoserver-using-cog-546h">https://dev.to/ibrahimawadhamid/large-geotiff-raster-files-on-geoserver-using-cog-546h</a>
<a href="https://github.com/rouault/cog_validator">https://github.com/rouault/cog_validator</a></p>