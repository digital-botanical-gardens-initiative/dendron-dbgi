{"pageProps":{"note":{"id":"fomxq979rwrl6eq0koybvl1","title":"agisoft","desc":"","updated":1677162025729,"created":1655669059864,"custom":{},"fname":"Bachelor-Works.Edouard-BrÃ¼lhart.methodology.agisoft","type":"note","vault":{"fsPath":"vault"},"contentHash":"099f066385a0a4069401d56d5e3ccb32","links":[],"anchors":{"1-import-the-drone-pictures-":{"type":"header","text":"1) Import the drone pictures :","value":"1-import-the-drone-pictures-","line":7,"column":0,"depth":2},"2-align-the-images-and-calculate-the-low-resolution-point-cloud-":{"type":"header","text":"2) Align the images and calculate the low resolution point cloud :","value":"2-align-the-images-and-calculate-the-low-resolution-point-cloud-","line":13,"column":0,"depth":2},"3-filter-the-tie-points-cloud-model--dendron-dbgivassetsimagesalignement_parameterspng":{"type":"header","text":"3) Filter the tie points cloud model : dendron-dbgi\\vassets\\images\\alignement_parameters.png","value":"3-filter-the-tie-points-cloud-model--dendron-dbgivassetsimagesalignement_parameterspng","line":21,"column":0,"depth":2},"4-georeferencing-":{"type":"header","text":"4) Georeferencing :","value":"4-georeferencing-","line":27,"column":0,"depth":2},"5-creation-of-the-dense-points-cloud-":{"type":"header","text":"5) Creation of the dense points cloud :","value":"5-creation-of-the-dense-points-cloud-","line":37,"column":0,"depth":2},"6-exportation-of-the-orthophoto-map":{"type":"header","text":"6) Exportation of the orthophoto map","value":"6-exportation-of-the-orthophoto-map","line":41,"column":0,"depth":2}},"children":[],"parent":"mpboa8wpvhpygf5fw4o9v11","data":{}},"body":"<h1 id=\"agisoft\">agisoft<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#agisoft\"></a></h1>\n<h2 id=\"1-import-the-drone-pictures-\">1) Import the drone pictures :<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#1-import-the-drone-pictures-\"></a></h2>\n<p>We choose Workflow/Add Photos to select all the pictures we want to use (All the pictures taken by the drone except the ones that are blurred) (Figure 1). Now we have to deactivate the GPS data provided by the pictures, because we have made GPS control points with the Differential GPS that are much more precise. To do that, we click on the Reference tab, we select all the images with crtl+A and right click and <em>Uncheck</em>.</p>\n<p><img src=\"/dendron-dbgi/assets/images/image_import.png\" alt=\"image import\" style=\"max-width:600px;display:block;margin:0 auto;\"><em>Figure 1: Image import</em></p>\n<h2 id=\"2-align-the-images-and-calculate-the-low-resolution-point-cloud-\">2) Align the images and calculate the low resolution point cloud :<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#2-align-the-images-and-calculate-the-low-resolution-point-cloud-\"></a></h2>\n<p>Under Workflow/Align Photos, the parameters have been set like in Figure 2. Then, the operation has been launched by clicking <em>ok</em>. This takes approximatively 20 minutes to run. This operation aim to calculate the drone position where each picture has been taken, to align them and create a low resolution point cloud (Figure 3).</p>\n<p><img src=\"/dendron-dbgi/assets/images/alignement_parameters.png\" alt=\"Alignment parameters\" style=\"max-width:600px;display:block;margin:0 auto;\"><em>Figure 2: Alignment parameters</em></p>\n<p><img src=\"/dendron-dbgi/assets/images/tie_points_model.png\" alt=\"tie points model\" style=\"max-width:600px;display:block;margin:0 auto;\"><em>Figure 3: Tie points cloud model</em></p>\n<h2 id=\"3-filter-the-tie-points-cloud-model--dendron-dbgivassetsimagesalignement_parameterspng\">3) Filter the tie points cloud model : dendron-dbgi\\vassets\\images\\alignement_parameters.png<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#3-filter-the-tie-points-cloud-model--dendron-dbgivassetsimagesalignement_parameterspng\"></a></h2>\n<p>Some points in the points cloud could be wrong aligned. To obtain a high quality map, we have to remove them. Under Model/Gradual Selection we select <em>Reconstruction Ucertainty</em> and place the cursor at 10%. Then we ckick <em>ok</em> and <em>delete</em> (Figure 4). Then we repeat the operation with <em>Project Accuracy</em>. Then we have to update the camera positions in Tools/Optimize Cameras by ckicking <em>ok</em>.</p>\n<p><img src=\"/dendron-dbgi/assets/images/Gradual_selection.png\" alt=\"Gradual selection\" style=\"max-width:600px;display:block;margin:0 auto;\"><em>Figure 4: Gradual selection of the bad aligned points</em></p>\n<h2 id=\"4-georeferencing-\">4) Georeferencing :<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#4-georeferencing-\"></a></h2>\n<p>Now we will import the ground control points to geolocate the map. You can find the ground control points coordinates of the Jardin botanique de l'universitÃ© de Fribourg map <a href=\"https://www.dbgi.org/dendron-dbgi/notes/oqjyhh23glvv5kns81yi68y/\">here</a>. To do that, we have to put them in a .txt file in the Reference/Import Reference tab. Then we put the settings displayed in Figure 5, then click <em>ok</em> and <em>yes to all</em> to create new control points. Then, in Reference settings we add the precision that is 2 centimeters under Marker accuracy (m).</p>\n<p><img src=\"/dendron-dbgi/assets/images/import_references.png\" alt=\"Import control points\" style=\"max-width:600px;display:block;margin:0 auto;\"><em>Figure 5: Importation of control points</em></p>\n<p>Now we have to add these points on the pictures. To do that, we double click on a miniature in the photos tab under the tie points map and zoom on the control point. Then <em>right click</em> on the middle of the ground control point (more precise it is done, better the map will be), <em>Place Marker/number of the control point</em> (Figure 6). There is no need to select all the control points on each image, but we have to put each control point on 4 to 6 different pictures minimum. When it's done, we have to click the <em>Update transform</em> to save the control points position (little rounded arrows in front of the Reference tab).</p>\n<p><img src=\"/dendron-dbgi/assets/images/place_points.png\" alt=\"Import control points\" style=\"max-width:600px;display:block;margin:0 auto;\"><em>Figure 6: Placing the points on the images</em></p>\n<h2 id=\"5-creation-of-the-dense-points-cloud-\">5) Creation of the dense points cloud :<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#5-creation-of-the-dense-points-cloud-\"></a></h2>\n<p>Now we have to create the dense points cloud. We go to Workflow/Build Dense Cloud with quality high. This step can take a very long time, approximatively 30 hours with a normal laptop.</p>\n<h2 id=\"6-exportation-of-the-orthophoto-map\">6) Exportation of the orthophoto map<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#6-exportation-of-the-orthophoto-map\"></a></h2>\n<p>To export the map we go to Workflow/Build Othomosaic with 0.0136m pro pixel (Figure 7), that is the common space between points of the dense points cloud (after measurement with the Ruler on the dense cloud). We can then run the build of the orhtomosaic clicking <em>ok</em>. When it's done, we can export it going in the Workspace, right click on the Orthomosaic/Export Orthomosaic. Select the TIFF/GeoTIFF(*.tif) type. The map is done !</p>\n<p><img src=\"/dendron-dbgi/assets/images/settings_orthomosaic.png\" alt=\"Build settings orthomosaic\" style=\"max-width:600px;display:block;margin:0 auto;\"><em>Figure 7: Settings to build the orthomosaic</em></p>","noteIndex":{"id":"txkHnVTI9AawnquiublXO","title":"The DBGI Dendron notes","desc":"","updated":1688889927268,"created":1645438795591,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"vault"},"contentHash":"fbac06bb8ff15f08a14f40cc7c9e268e","links":[{"type":"wiki","from":{"fname":"root","id":"txkHnVTI9AawnquiublXO","vaultName":"vault"},"value":"open-notebook","position":{"start":{"line":28,"column":53,"offset":1976},"end":{"line":28,"column":70,"offset":1993},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"open-notebook"}},{"type":"wiki","from":{"fname":"root","id":"txkHnVTI9AawnquiublXO","vaultName":"vault"},"value":"welcome","position":{"start":{"line":34,"column":81,"offset":2595},"end":{"line":34,"column":92,"offset":2606},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"welcome"}},{"from":{"fname":"welcome","id":"tofizf0eb38rduuw6ffnzba","vaultName":"vault"},"type":"backlink","position":{"start":{"line":5,"column":27,"offset":59},"end":{"line":5,"column":35,"offset":67},"indent":[]},"value":"root"}],"anchors":{"overview":{"type":"header","text":"Overview","value":"overview","line":8,"column":0,"depth":1},"main-goals":{"type":"header","text":"Main goals","value":"main-goals","line":12,"column":0,"depth":1},"an-open-science-project":{"type":"header","text":"An Open Science project","value":"an-open-science-project","line":18,"column":0,"depth":1},"working-with-the-workshop-doors-open":{"type":"header","text":"Working with the workshop doors open","value":"working-with-the-workshop-doors-open","line":21,"column":0,"depth":2},"open-notebook-science":{"type":"header","text":"Open Notebook Science","value":"open-notebook-science","line":28,"column":0,"depth":2},"whats-new-":{"type":"header","text":"What's new ?!","value":"whats-new-","line":43,"column":0,"depth":2}},"children":["il7c8piddciyg8dw5owj6ui","se2pzun6petcy32hf5j3wuw","bum7d9d6lnc0a863iqaogka","r23kzroton7bo017hsc6lmk","fmlpvd5ebpugd0idxhytk28","iq3hz5b7sskcu56bl8pgbwq","vphzpqwuu98x8sfgfrconej","hl55gsxxo1wlj1igs9mso7p","1sxxmo2bt2eans2xhdorb0q","8yees000uw0bxldzotr8uvw","9p6t4gle5zj5ilkd67j9rud","n9brxvyxekn9b8bv9d8xdik","7ic8gy5h3i6v906dzrig6hy","m0qwxiyv7i2hnkr3fk2m3by","o6r2k35gfsfur2gwgk56ra3","o2psjwj00vl4m8d7rgyfk9f","8u9qb1u3gp4e3osrb73xvor","f7cx4bd1mxjt63d0daza1xb","xoiil9w7pvz3ojhif2a8ppj","o8bu4pl5w2ag7o1h3401qgj","u9u4dax4f23kvq98mtw0ezj","eh30zgccb8kw1z36jlstijv","b17we89hoe3m5ulu9d1t8by","rnoodwuxipqxc8zdxt7kqdm","6c37mounk3i96bftncrvr29","p6xf974t6tqndzis0qjc9j6","165zhtrhauww30lf9dbp8fa","h2jxo1dbamqvqodtuopq9q1","1k6j3afbnh1kiyz95m1kyxz","dwyb49xky735sox320haxga","trzsyfzfrls2if6tjt9dy5u","nnhoqwog50xoiu1bzbn6cyj","q7siltgd71qf2xgppbysw35","tofizf0eb38rduuw6ffnzba","v3eyay0icafeftx6kbyemlm","h8trx40s491czjp1npypo68","eru1s83ybgl3raytc4dgeuz","lykjjec8x2kmqnxjz10nwm6","q8ucho0l7y37kqhprv8ku3k","fynboti1depbjpoz1whdnvt","il17okdfivbzsj1ij63uf8m"],"parent":null,"data":{},"body":"\n# Overview\n\nThe Digital Botanical Gardens Initiative (DBGI, www.dbgi.org) ambitions to explore innovative solutions for the collection, management and sharing of digital information acquired on living botanical collections. A particular focus will be placed on the large scale characterization of the chemodiversity of living plants collections through mass spectrometric approaches. The acquired data will be structured, organized and connected with relevant metadata through [semantic web](https://en.wikipedia.org/wiki/Semantic_Web) technology. The gathered knowledge will then inform ecosystem functioning research and orient [biodiversity conservation](https://en.wikipedia.org/wiki/Conservation_biology) projects. The DBGI initially aims to take advantage of the readily available living collections of Swiss botanical gardens to establish robust and scalable biodiversity digitisation workflows. The ultimate goal is to apply these approaches in the field and at the global scale in wildlife ecosystems. \n\n# Main goals\n\nThe DBGI main goals are briefly summarized below :\n\n![](/assets/images/2022-06-18-17-13-23.png){max-width: 400px, display: block, margin: 0 auto}\n\n# An Open Science project\n\n\n## Working with the workshop doors open\n\n![](/assets/images/2022-06-18-17-47-56.png){max-width: 400px}\n\nA way of working briefly described by Andy Matuschak here https://notes.andymatuschak.org/z21cgR9K3UcQ5a7yPsj2RUim3oM2TzdBByZu. \n\n\n## Open Notebook Science\n\nIf we apply this \"working with the workshop doors open\" idea to a scientific research endeavor we understand it as respecting the core concepts of Open Science. These is more precisely the principle of Open Notebook Science https://en.wikipedia.org/wiki/Open-notebook_science\n\nFor the projects of the DBGI we will follow such an Open Notebook Science approach in order to share early ideas and results but also the less shiny parts of the research projects. \n\nYou can follow the DBGI related Open Notebooks here [[open-notebook]].\n\nExpect to find strange ideas, badly formulated text and poorly written code. However if you have time and interest you should be able to participate at each step of the process. Hopefully this will lead to enhanced collaboration and participation. Maybe yes, maybe not. Let's make it a methodological experiment !\n\nEach pages of this website are written in markdown and hosted on Github. You can edit them by clicking on the \"Click here to edit this page on Github !\" link at the bottom of the page. See down there ðŸ‘‡\n\nIf you are willing to participate the the DBGI Dendron notes have a look at the [[welcome]] section to get you started !\n\n\n## What's new ?!\n\nThis web site might not necessarily seem to be change since the last time you came to visit.\n\nIf something moved recently you should be able to track this over there https://github.com/digital-botanical-gardens-initiative/dendron-dbgi/commits/main"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"dendronVersion":"0.84.0","enableFullHierarchyNoteTitle":false,"enableHandlebarTemplates":true,"hooks":{"onCreate":[{"id":"hello","pattern":"hello.*","type":"js"}]}},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"DBGI Dendron page","description":"Open Notebook Science in the DBGI"},"github":{"enableEditLink":true,"editLinkText":"Participate and click here to edit this page on Github !","editBranch":"main","editViewMode":"tree","editRepository":"https://github.com/digital-botanical-gardens-initiative/dendron-dbgi"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"lookup","enableMermaid":true,"enableHierarchyDisplay":true,"assetsPrefix":"/dendron-dbgi","siteUrl":"https://digital-botanical-gardens-initiative.github.io","duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"ga":{"tracking":"G-EPEXM5GLLG"},"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true}