{"pageProps":{"note":{"id":"h33m4gr8eny7li4yhlxotdb","title":"QGIS and map sample gestion","desc":"","updated":1656077391757,"created":1655989511525,"custom":{},"fname":"Bachelor-Works.Edouard-Brülhart.methodology.QGIS-and-map-sample-gestion","type":"note","vault":{"fsPath":"vault"},"contentHash":"35b6d001d44890cd818a000c3ca056db","links":[{"type":"wiki","from":{"fname":"Bachelor-Works.Edouard-Brülhart.methodology.QGIS-and-map-sample-gestion","id":"h33m4gr8eny7li4yhlxotdb","vaultName":"vault"},"value":"Bachelor-Works.Edouard-Brülhart.biblio._g","position":{"start":{"line":2,"column":7,"offset":7},"end":{"line":2,"column":52,"offset":52},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"Bachelor-Works.Edouard-Brülhart.biblio._g"}}],"anchors":{"connection-to-the-qgis-project":{"type":"header","text":"Connection to the QGIS project","value":"connection-to-the-qgis-project","line":14,"column":0,"depth":2},"creation-of-a-new-point-layer":{"type":"header","text":"Creation of a new point layer","value":"creation-of-a-new-point-layer","line":22,"column":0,"depth":2},"utilisation-on-the-field":{"type":"header","text":"Utilisation on the field","value":"utilisation-on-the-field","line":33,"column":0,"depth":2}},"children":[],"parent":"mpboa8wpvhpygf5fw4o9v11","data":{}},"body":"<h1 id=\"qgis-and-map-sample-gestion\">QGIS and map sample gestion<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#qgis-and-map-sample-gestion\"></a></h1>\n<p>QGIS (<a href=\"/dendron-dbgi/notes/lmex82qnbgssu3apk4t7v5f\">_g</a>) is an open source Geographic Information Software that permits to manage a lot of different geographic data. We use it to display the drone map and to add sample points.</p>\n<p>To do that, we have made a QGIS project with the drone map as base. The project can be joined creating a QFieldCloud account <a href=\"https://app.qfield.cloud/accounts/login/\">here</a>.</p>\n<p>To add points, we make a new vector point layer for each sampling period. For now, Two batches are available, one for the SBL.20004 curse and one for this Bachelor Work.</p>\n<h2 id=\"connection-to-the-qgis-project\">Connection to the QGIS project<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#connection-to-the-qgis-project\"></a></h2>\n<p>Firstly, you have to <a href=\"https://qgis.org/downloads/QGIS-OSGeo4W-3.22.7-1.msi\">download</a> QGIS. Then open the software and install the QField Sync plugin under <em>Plugins/Manage and Install Plugins/QField Sync/Install Plugin</em>, and enter your QFieldCloud login. When it's done, you have to connect you to the <a href=\"https://app.qfield.cloud/a/edouardbrulhart/DBGI/\">project</a> with your QFieldCloud account. Then, go in QGIS to <em>Plugins/QFieldSync/QFieldCloud Projects Overview</em>. Here you will normally see the project. If not, clik on the <em>refresh</em> button on the bottom right. When you see the DBGI project, click on it and <em>synchronize</em>. A new page will open, select <em>Prefer Cloud</em> and controll that all the ticks are under the little cloud ont the window above. Then click <em>Perform Actions</em>. The files are big, so it will probably take some time to download the project.</p>\n<p><img src=\"/dendron-dbgi/assets/images/QGIS_synchronisation.png\" alt=\"Build settings orthomosaic\" style=\"max-width:600px;display:block;margin:0 auto;\"><em>How to obtain the synchronized QGIS project</em></p>\n<p>Now you have the project synced. If you want to upload changes from QGIS to the server, you can choose <em>Prefer Local</em> and if you want to download changes from server to QGIS, you can choose <em>Prefer Cloud</em> from Synchronizing project window.</p>\n<h2 id=\"creation-of-a-new-point-layer\">Creation of a new point layer<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#creation-of-a-new-point-layer\"></a></h2>\n<p>This step has not been tested from another computer as the one who host the project. If you can't create a new layer by your own, please contact <a href=\"/dendron-dbgi/mailto:edouard.bruelhart@unifr.ch\">edouard.bruelhart@unifr.ch</a> to find a solution.</p>\n<p>Before going to sample on the field, we have to create a new layer for the harvesting :</p>\n<ul>\n<li>Right click on the <em>Other samples</em> layer in QGIS, <em>Export/Save Feature As</em>. On the <em>Save Vector Layer as...</em> choose the GeoPackage Format, in the File name add the layer in \"C:\\Users\\edoua\\QField\\cloud\\dbgi\". Tick the <em>Replace all selected raw field values by displayed values</em> and then click <em>OK</em>.</li>\n<li>Go to <em>Project/Properties/Relations</em> and click <em>Add Relation</em> in the bottom. In the Referenced field enter <em>Species list QGIS</em> and select the field <em>idTaxon</em>. In the Referencing field entre <em>Name of your new layer</em> and select the field <em>Plant_ID</em>. Set the Relation strength to <em>Association</em> and then confirm by <em>OK</em>. Click on the bottom of Project Properties <em>Apply</em> and then <em>OK</em>.</li>\n<li>Right click on your new layer <em>Properties/Attribute Form</em> and renseign the field like in the the <em>other samples</em> layer, exept in <em>Plant_ID</em> field where you have to select the relation you created.</li>\n<li>Upload the changes with the <em>QFieldSync</em> plugin.</li>\n</ul>\n<h2 id=\"utilisation-on-the-field\">Utilisation on the field<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#utilisation-on-the-field\"></a></h2>\n<p>1) Download the QField <a href=\"https://play.google.com/store/apps/details?id=ch.opengis.qfield\">application</a>. For now, only Android smartphones are available, but an IOS application seems to be in progess.</p>\n<p>2) Open the application and login to QFieldCloud.</p>\n<p>3) Go to <em>QFieldCloud Projects</em> and select the DBGI one to download on the smartphone. This step can take several minutes.</p>\n<p>4) When the project is open, go to the left menu and select your layer. Then click on the pencil at the top right to pass in edition mode. You can now add the harvested samples by searching and selecting it in the Plant_ID. Don't forget to add the DBG sample code. All the other fields will be automatically filled. If, for any reason, the sample is not available in this field, select <em>aaunknown</em> parameter and fill the <em>unknown</em> field with the name of the sampled plant.</p>\n<p>5) After the sample cession, reopen the left menu and click on the cloud. You just have to select <em>Push the modifications</em> to upload the modifications made on the server. You can then download them to the QGIS project on the computer.</p>\n<p>6) To obtain the location data, you just have to right click on the updated layer with the points on QGIS <em>Export/Save Feature As/CSV Format</em> and choose the location of the CSV.</p>","noteIndex":{"id":"txkHnVTI9AawnquiublXO","title":"The DBGI Dendron notes","desc":"","updated":1688889927268,"created":1645438795591,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"vault"},"contentHash":"fbac06bb8ff15f08a14f40cc7c9e268e","links":[{"type":"wiki","from":{"fname":"root","id":"txkHnVTI9AawnquiublXO","vaultName":"vault"},"value":"open-notebook","position":{"start":{"line":28,"column":53,"offset":1976},"end":{"line":28,"column":70,"offset":1993},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"open-notebook"}},{"type":"wiki","from":{"fname":"root","id":"txkHnVTI9AawnquiublXO","vaultName":"vault"},"value":"welcome","position":{"start":{"line":34,"column":81,"offset":2595},"end":{"line":34,"column":92,"offset":2606},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"welcome"}},{"from":{"fname":"welcome","id":"tofizf0eb38rduuw6ffnzba","vaultName":"vault"},"type":"backlink","position":{"start":{"line":5,"column":27,"offset":59},"end":{"line":5,"column":35,"offset":67},"indent":[]},"value":"root"}],"anchors":{"overview":{"type":"header","text":"Overview","value":"overview","line":8,"column":0,"depth":1},"main-goals":{"type":"header","text":"Main goals","value":"main-goals","line":12,"column":0,"depth":1},"an-open-science-project":{"type":"header","text":"An Open Science project","value":"an-open-science-project","line":18,"column":0,"depth":1},"working-with-the-workshop-doors-open":{"type":"header","text":"Working with the workshop doors open","value":"working-with-the-workshop-doors-open","line":21,"column":0,"depth":2},"open-notebook-science":{"type":"header","text":"Open Notebook Science","value":"open-notebook-science","line":28,"column":0,"depth":2},"whats-new-":{"type":"header","text":"What's new ?!","value":"whats-new-","line":43,"column":0,"depth":2}},"children":["il7c8piddciyg8dw5owj6ui","se2pzun6petcy32hf5j3wuw","bum7d9d6lnc0a863iqaogka","r23kzroton7bo017hsc6lmk","fmlpvd5ebpugd0idxhytk28","iq3hz5b7sskcu56bl8pgbwq","vphzpqwuu98x8sfgfrconej","hl55gsxxo1wlj1igs9mso7p","1sxxmo2bt2eans2xhdorb0q","8yees000uw0bxldzotr8uvw","9p6t4gle5zj5ilkd67j9rud","n9brxvyxekn9b8bv9d8xdik","7ic8gy5h3i6v906dzrig6hy","m0qwxiyv7i2hnkr3fk2m3by","o6r2k35gfsfur2gwgk56ra3","o2psjwj00vl4m8d7rgyfk9f","8u9qb1u3gp4e3osrb73xvor","f7cx4bd1mxjt63d0daza1xb","xoiil9w7pvz3ojhif2a8ppj","o8bu4pl5w2ag7o1h3401qgj","u9u4dax4f23kvq98mtw0ezj","eh30zgccb8kw1z36jlstijv","b17we89hoe3m5ulu9d1t8by","rnoodwuxipqxc8zdxt7kqdm","6c37mounk3i96bftncrvr29","p6xf974t6tqndzis0qjc9j6","165zhtrhauww30lf9dbp8fa","h2jxo1dbamqvqodtuopq9q1","1k6j3afbnh1kiyz95m1kyxz","dwyb49xky735sox320haxga","trzsyfzfrls2if6tjt9dy5u","nnhoqwog50xoiu1bzbn6cyj","q7siltgd71qf2xgppbysw35","tofizf0eb38rduuw6ffnzba","v3eyay0icafeftx6kbyemlm","h8trx40s491czjp1npypo68","eru1s83ybgl3raytc4dgeuz","lykjjec8x2kmqnxjz10nwm6","q8ucho0l7y37kqhprv8ku3k","fynboti1depbjpoz1whdnvt","il17okdfivbzsj1ij63uf8m"],"parent":null,"data":{},"body":"\n# Overview\n\nThe Digital Botanical Gardens Initiative (DBGI, www.dbgi.org) ambitions to explore innovative solutions for the collection, management and sharing of digital information acquired on living botanical collections. A particular focus will be placed on the large scale characterization of the chemodiversity of living plants collections through mass spectrometric approaches. The acquired data will be structured, organized and connected with relevant metadata through [semantic web](https://en.wikipedia.org/wiki/Semantic_Web) technology. The gathered knowledge will then inform ecosystem functioning research and orient [biodiversity conservation](https://en.wikipedia.org/wiki/Conservation_biology) projects. The DBGI initially aims to take advantage of the readily available living collections of Swiss botanical gardens to establish robust and scalable biodiversity digitisation workflows. The ultimate goal is to apply these approaches in the field and at the global scale in wildlife ecosystems. \n\n# Main goals\n\nThe DBGI main goals are briefly summarized below :\n\n![](/assets/images/2022-06-18-17-13-23.png){max-width: 400px, display: block, margin: 0 auto}\n\n# An Open Science project\n\n\n## Working with the workshop doors open\n\n![](/assets/images/2022-06-18-17-47-56.png){max-width: 400px}\n\nA way of working briefly described by Andy Matuschak here https://notes.andymatuschak.org/z21cgR9K3UcQ5a7yPsj2RUim3oM2TzdBByZu. \n\n\n## Open Notebook Science\n\nIf we apply this \"working with the workshop doors open\" idea to a scientific research endeavor we understand it as respecting the core concepts of Open Science. These is more precisely the principle of Open Notebook Science https://en.wikipedia.org/wiki/Open-notebook_science\n\nFor the projects of the DBGI we will follow such an Open Notebook Science approach in order to share early ideas and results but also the less shiny parts of the research projects. \n\nYou can follow the DBGI related Open Notebooks here [[open-notebook]].\n\nExpect to find strange ideas, badly formulated text and poorly written code. However if you have time and interest you should be able to participate at each step of the process. Hopefully this will lead to enhanced collaboration and participation. Maybe yes, maybe not. Let's make it a methodological experiment !\n\nEach pages of this website are written in markdown and hosted on Github. You can edit them by clicking on the \"Click here to edit this page on Github !\" link at the bottom of the page. See down there 👇\n\nIf you are willing to participate the the DBGI Dendron notes have a look at the [[welcome]] section to get you started !\n\n\n## What's new ?!\n\nThis web site might not necessarily seem to be change since the last time you came to visit.\n\nIf something moved recently you should be able to track this over there https://github.com/digital-botanical-gardens-initiative/dendron-dbgi/commits/main"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"dendronVersion":"0.84.0","enableFullHierarchyNoteTitle":false,"enableHandlebarTemplates":true,"hooks":{"onCreate":[{"id":"hello","pattern":"hello.*","type":"js"}]}},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"DBGI Dendron page","description":"Open Notebook Science in the DBGI"},"github":{"enableEditLink":true,"editLinkText":"Participate and click here to edit this page on Github !","editBranch":"main","editViewMode":"tree","editRepository":"https://github.com/digital-botanical-gardens-initiative/dendron-dbgi"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"lookup","enableMermaid":true,"enableHierarchyDisplay":true,"assetsPrefix":"/dendron-dbgi","siteUrl":"https://digital-botanical-gardens-initiative.github.io","duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"ga":{"tracking":"G-EPEXM5GLLG"},"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true}