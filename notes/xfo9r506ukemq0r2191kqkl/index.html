<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/dendron-dbgi/favicon.ico"/><title>postgres</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Open Notebook Science in the DBGI"/><meta property="og:title" content="postgres"/><meta property="og:description" content="Open Notebook Science in the DBGI"/><meta property="og:url" content="https://digital-botanical-gardens-initiative.github.io/dendron-dbgi/notes/xfo9r506ukemq0r2191kqkl/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="10/20/2022"/><meta property="article:modified_time" content="6/23/2023"/><link rel="canonical" href="https://digital-botanical-gardens-initiative.github.io/dendron-dbgi/notes/xfo9r506ukemq0r2191kqkl/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/dendron-dbgi/_next/static/css/be4042e32dc1678f.css" as="style"/><link rel="stylesheet" href="/dendron-dbgi/_next/static/css/be4042e32dc1678f.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/dendron-dbgi/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/dendron-dbgi/_next/static/chunks/webpack-2171ba579db410b3.js" defer=""></script><script src="/dendron-dbgi/_next/static/chunks/framework-28c999baf2863c3d.js" defer=""></script><script src="/dendron-dbgi/_next/static/chunks/main-86951ffaf72f5ad0.js" defer=""></script><script src="/dendron-dbgi/_next/static/chunks/pages/_app-80f57aa65d177734.js" defer=""></script><script src="/dendron-dbgi/_next/static/chunks/935-4dee79e80b8641c6.js" defer=""></script><script src="/dendron-dbgi/_next/static/chunks/6-50972def09142ee2.js" defer=""></script><script src="/dendron-dbgi/_next/static/chunks/pages/notes/%5Bid%5D-78d472fa3b924116.js" defer=""></script><script src="/dendron-dbgi/_next/static/lcvOAFe71opK26LFlnkMt/_buildManifest.js" defer=""></script><script src="/dendron-dbgi/_next/static/lcvOAFe71opK26LFlnkMt/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><main class="ant-layout-content side-layout-main" style="max-width:1200px;min-width:0;display:block"><div style="padding:0 24px"><div class="main-content" role="main"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="postgres">postgres<a aria-hidden="true" class="anchor-heading icon-link" href="#postgres"></a></h1>
<h1 id="connect-to-postgresql">Connect to postgresql<a aria-hidden="true" class="anchor-heading icon-link" href="#connect-to-postgresql"></a></h1>
<pre class="language-bash"><code class="language-bash">psql -U username
</code></pre>
<h1 id="database">DATABASE<a aria-hidden="true" class="anchor-heading icon-link" href="#database"></a></h1>
<h2 id="create-new-database">Create new database<a aria-hidden="true" class="anchor-heading icon-link" href="#create-new-database"></a></h2>
<pre class="language-psql"><code class="language-psql">CREATE DATABASE dbname;
</code></pre>
<h2 id="list-all-database">list all database<a aria-hidden="true" class="anchor-heading icon-link" href="#list-all-database"></a></h2>
<pre class="language-psql"><code class="language-psql">\l
</code></pre>
<h2 id="connect-to-the-database">Connect to the database<a aria-hidden="true" class="anchor-heading icon-link" href="#connect-to-the-database"></a></h2>
<pre class="language-psql"><code class="language-psql">\c database_name
</code></pre>
<h1 id="table">TABLE<a aria-hidden="true" class="anchor-heading icon-link" href="#table"></a></h1>
<h2 id="create-a-new-table">Create a new table<a aria-hidden="true" class="anchor-heading icon-link" href="#create-a-new-table"></a></h2>
<pre class="language-psql"><code class="language-psql">CREATE TABLE table_name(             
   column1 datatype,             
   column2 datatype,        
   column3 datatype,         
   .....            
   columnN datatype,         
   PRIMARY KEY( one or more columns )          
   );
</code></pre>
<h3 id="generate-table-layout-to-create-new-table-before-importing-csv-in-the-db">Generate table layout to create new table before importing csv in the db:<a aria-hidden="true" class="anchor-heading icon-link" href="#generate-table-layout-to-create-new-table-before-importing-csv-in-the-db"></a></h3>
<p>In bash terminal:</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">head</span> -n <span class="token number">20</span> table.csv <span class="token operator">|</span> csvsql --no-constraints --tables table_name
</code></pre>
<p>This will give an sql command to crate the new table. The datatypes may have to be changed.</p>
<h3 id="list-tables-in-a-db">List tables in a db<a aria-hidden="true" class="anchor-heading icon-link" href="#list-tables-in-a-db"></a></h3>
<pre class="language-psql"><code class="language-psql">\d
</code></pre>
<h3 id="describe-each-table">Describe each table<a aria-hidden="true" class="anchor-heading icon-link" href="#describe-each-table"></a></h3>
<pre class="language-psql"><code class="language-psql">\d table_name
</code></pre>
<h2 id="add-a-column">Add a column<a aria-hidden="true" class="anchor-heading icon-link" href="#add-a-column"></a></h2>
<pre class="language-psql"><code class="language-psql">ALTER TABLE table_name
ADD COLUMN new_column_name data_type constraint;
</code></pre>
<h2 id="drop-a-table">Drop a table<a aria-hidden="true" class="anchor-heading icon-link" href="#drop-a-table"></a></h2>
<pre class="language-psql"><code class="language-psql">DROP TABLE name;
</code></pre>
<h2 id="insert-data-in-table">Insert data in table<a aria-hidden="true" class="anchor-heading icon-link" href="#insert-data-in-table"></a></h2>
<p>⚠️ The table should already exist</p>
<h3 id="manually">Manually<a aria-hidden="true" class="anchor-heading icon-link" href="#manually"></a></h3>
<pre class="language-psql"><code class="language-psql">INSERT INTO table_name (column1, column2, column3,...columnN)              
VALUES (value1_row1, value2_row1, value3_row1,...valueN_row1),        
         (value1_row2, value2_row2, value3_row2,...valueN_row2),          
            ....;         
</code></pre>
<p>No need to specify the columns name if one is adding values for all the columns of the table. But the order of the values should be the same as the column.</p>
<h3 id="from-a-csv-file">From a csv file<a aria-hidden="true" class="anchor-heading icon-link" href="#from-a-csv-file"></a></h3>
<pre class="language-psql"><code class="language-psql">COPY table_name     
FROM 'path/to/csv'       
DELIMITER ';'       
CSV HEADER
</code></pre>
<h2 id="update-data-in-table">Update data in table<a aria-hidden="true" class="anchor-heading icon-link" href="#update-data-in-table"></a></h2>
<pre class="language-psql"><code class="language-psql">UPDATE table_name      
SET column1 = value1,       
   column2 = value2,       
   ...        
WHERE condition;
</code></pre>
<h2 id="delete-data-from-table">Delete data from table<a aria-hidden="true" class="anchor-heading icon-link" href="#delete-data-from-table"></a></h2>
<pre class="language-psql"><code class="language-psql">DELETE FROM table_name        
WHERE condition;
</code></pre>
<h2 id="constraints">Constraints<a aria-hidden="true" class="anchor-heading icon-link" href="#constraints"></a></h2>
<h3 id="when-defining-the-table">When defining the table<a aria-hidden="true" class="anchor-heading icon-link" href="#when-defining-the-table"></a></h3>
<pre class="language-psql"><code class="language-psql">CREATE TABLE TABLE (
	column_1 data_type,
	column_2 data_type,
	… 
   PRIMARY KEY (column_1, column_2),
   CONSTRAINT constraint_name
   FOREIGN KEY(fk_columns) 
	REFERENCES parent_table(parent_key_columns)
);
</code></pre>
<h3 id="after-creation">After creation<a aria-hidden="true" class="anchor-heading icon-link" href="#after-creation"></a></h3>
<pre class="language-psql"><code class="language-psql">ALTER TABLE products 
ADD PRIMARY KEY (product_no);

ALTER TABLE child_table 
ADD CONSTRAINT constraint_name 
FOREIGN KEY (fk_columns) 
REFERENCES parent_table (parent_key_columns);
</code></pre>
<h2 id="some-useful-clauses">Some useful clauses<a aria-hidden="true" class="anchor-heading icon-link" href="#some-useful-clauses"></a></h2>
<h3 id="select-statement">Select statement<a aria-hidden="true" class="anchor-heading icon-link" href="#select-statement"></a></h3>
<p>The SELECT statement returns all rows from one or more columns in a table.</p>
<pre class="language-psql"><code class="language-psql">SELECT column_1, column_2, ..., column_n    (or * for all columns)     
FROM table_name       
other clauses;
</code></pre>
<h3 id="where-clause">Where clause<a aria-hidden="true" class="anchor-heading icon-link" href="#where-clause"></a></h3>
<p>If one need to select data that satisfy a specified condition, one can use a WHERE clause as follow:       </p>
<pre class="language-psql"><code class="language-psql">SELECT select_list     
FROM table_name       
WHERE condition        
</code></pre>
<p>The condition should be true, false or unknown. It can be a boolean expression or a combination of boolean expressions using the AND and OR operators.</p>
<h1 id="sequence">SEQUENCE<a aria-hidden="true" class="anchor-heading icon-link" href="#sequence"></a></h1>
<h2 id="restart-the-sequence-padding">Restart the sequence padding<a aria-hidden="true" class="anchor-heading icon-link" href="#restart-the-sequence-padding"></a></h2>
<p>If one do a mistake in the emi_external_id incremantation and needs to go back in the sequence:</p>
<pre class="language-psql"><code class="language-psql">SELECT setval('samples_padding',1057); #If one want to restart the sequence at 1057
</code></pre>
<h1 id="to-go-further">To go further<a aria-hidden="true" class="anchor-heading icon-link" href="#to-go-further"></a></h1>
<p><a href="https://www.postgresqltutorial.com/">https://www.postgresqltutorial.com/</a></p>
<hr>
<strong>Backlinks</strong>
<ul>
<li><a href="/dendron-dbgi/notes/l5hk8footuy2893u4zi6yvs">Basics</a></li>
</ul></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#connect-to-postgresql" title="Connect to postgresql">Connect to postgresql</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#database" title="DATABASE">DATABASE</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#create-new-database" title="Create new database">Create new database</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#list-all-database" title="list all database">list all database</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#connect-to-the-database" title="Connect to the database">Connect to the database</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#table" title="TABLE">TABLE</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#create-a-new-table" title="Create a new table">Create a new table</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#generate-table-layout-to-create-new-table-before-importing-csv-in-the-db" title="Generate table layout to create new table before importing csv in the db:">Generate table layout to create new table before importing csv in the db:</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#list-tables-in-a-db" title="List tables in a db">List tables in a db</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#describe-each-table" title="Describe each table">Describe each table</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#add-a-column" title="Add a column">Add a column</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#drop-a-table" title="Drop a table">Drop a table</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#insert-data-in-table" title="Insert data in table">Insert data in table</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#manually" title="Manually">Manually</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#from-a-csv-file" title="From a csv file">From a csv file</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#update-data-in-table" title="Update data in table">Update data in table</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#delete-data-from-table" title="Delete data from table">Delete data from table</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#constraints" title="Constraints">Constraints</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#when-defining-the-table" title="When defining the table">When defining the table</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#after-creation" title="After creation">After creation</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#some-useful-clauses" title="Some useful clauses">Some useful clauses</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#select-statement" title="Select statement">Select statement</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#where-clause" title="Where clause">Where clause</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#sequence" title="SEQUENCE">SEQUENCE</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#restart-the-sequence-padding" title="Restart the sequence padding">Restart the sequence padding</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#to-go-further" title="To go further">To go further</a></div></div></div></div></div></div></div></div></div></div></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></main></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"xfo9r506ukemq0r2191kqkl","title":"postgres","desc":"","updated":1687525984355,"created":1666246320224,"custom":{},"fname":"Master-Works.Maëlle-Wannier.tutorial.postgres","type":"note","vault":{"fsPath":"vault"},"contentHash":"8e8330f964fbb22ca2e4e0986f995555","links":[{"from":{"fname":"Master-Works.Maëlle-Wannier.tutorial.directus.Basics","id":"l5hk8footuy2893u4zi6yvs","vaultName":"vault"},"type":"backlink","position":{"start":{"line":29,"column":33,"offset":1706},"end":{"line":29,"column":105,"offset":1778},"indent":[]},"value":"Master-Works.Maëlle-Wannier.tutorial.postgres"},{"from":{"fname":"Master-Works.Maëlle-Wannier.tutorial.directus.Basics","id":"l5hk8footuy2893u4zi6yvs","vaultName":"vault"},"type":"backlink","position":{"start":{"line":30,"column":33,"offset":1811},"end":{"line":30,"column":112,"offset":1890},"indent":[]},"value":"Master-Works.Maëlle-Wannier.tutorial.postgres"}],"anchors":{"connect-to-postgresql":{"type":"header","text":"Connect to postgresql","value":"connect-to-postgresql","line":8,"column":0,"depth":1},"database":{"type":"header","text":"DATABASE","value":"database","line":13,"column":0,"depth":1},"create-new-database":{"type":"header","text":"Create new database","value":"create-new-database","line":15,"column":0,"depth":2},"list-all-database":{"type":"header","text":"list all database","value":"list-all-database","line":20,"column":0,"depth":2},"connect-to-the-database":{"type":"header","text":"Connect to the database","value":"connect-to-the-database","line":25,"column":0,"depth":2},"table":{"type":"header","text":"TABLE","value":"table","line":30,"column":0,"depth":1},"create-a-new-table":{"type":"header","text":"Create a new table","value":"create-a-new-table","line":32,"column":0,"depth":2},"generate-table-layout-to-create-new-table-before-importing-csv-in-the-db":{"type":"header","text":"Generate table layout to create new table before importing csv in the db:","value":"generate-table-layout-to-create-new-table-before-importing-csv-in-the-db","line":44,"column":0,"depth":3},"list-tables-in-a-db":{"type":"header","text":"List tables in a db","value":"list-tables-in-a-db","line":52,"column":0,"depth":3},"describe-each-table":{"type":"header","text":"Describe each table","value":"describe-each-table","line":57,"column":0,"depth":3},"add-a-column":{"type":"header","text":"Add a column","value":"add-a-column","line":62,"column":0,"depth":2},"drop-a-table":{"type":"header","text":"Drop a table","value":"drop-a-table","line":68,"column":0,"depth":2},"insert-data-in-table":{"type":"header","text":"Insert data in table","value":"insert-data-in-table","line":73,"column":0,"depth":2},"manually":{"type":"header","text":"Manually","value":"manually","line":76,"column":0,"depth":3},"from-a-csv-file":{"type":"header","text":"From a csv file","value":"from-a-csv-file","line":86,"column":0,"depth":3},"update-data-in-table":{"type":"header","text":"Update data in table","value":"update-data-in-table","line":94,"column":0,"depth":2},"delete-data-from-table":{"type":"header","text":"Delete data from table","value":"delete-data-from-table","line":103,"column":0,"depth":2},"constraints":{"type":"header","text":"Constraints","value":"constraints","line":109,"column":0,"depth":2},"when-defining-the-table":{"type":"header","text":"When defining the table","value":"when-defining-the-table","line":111,"column":0,"depth":3},"after-creation":{"type":"header","text":"After creation","value":"after-creation","line":125,"column":0,"depth":3},"some-useful-clauses":{"type":"header","text":"Some useful clauses","value":"some-useful-clauses","line":138,"column":0,"depth":2},"select-statement":{"type":"header","text":"Select statement","value":"select-statement","line":139,"column":0,"depth":3},"where-clause":{"type":"header","text":"Where clause","value":"where-clause","line":148,"column":0,"depth":3},"sequence":{"type":"header","text":"SEQUENCE","value":"sequence","line":159,"column":0,"depth":1},"restart-the-sequence-padding":{"type":"header","text":"Restart the sequence padding","value":"restart-the-sequence-padding","line":160,"column":0,"depth":2},"to-go-further":{"type":"header","text":"To go further","value":"to-go-further","line":166,"column":0,"depth":1}},"children":[],"parent":"gmay8ruvrqpqw2h8l8jc6uj","data":{}},"body":"\u003ch1 id=\"postgres\"\u003epostgres\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#postgres\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003ch1 id=\"connect-to-postgresql\"\u003eConnect to postgresql\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#connect-to-postgresql\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003epsql -U username\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1 id=\"database\"\u003eDATABASE\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#database\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003ch2 id=\"create-new-database\"\u003eCreate new database\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#create-new-database\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cpre class=\"language-psql\"\u003e\u003ccode class=\"language-psql\"\u003eCREATE DATABASE dbname;\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"list-all-database\"\u003elist all database\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#list-all-database\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cpre class=\"language-psql\"\u003e\u003ccode class=\"language-psql\"\u003e\\l\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"connect-to-the-database\"\u003eConnect to the database\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#connect-to-the-database\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cpre class=\"language-psql\"\u003e\u003ccode class=\"language-psql\"\u003e\\c database_name\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1 id=\"table\"\u003eTABLE\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#table\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003ch2 id=\"create-a-new-table\"\u003eCreate a new table\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#create-a-new-table\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cpre class=\"language-psql\"\u003e\u003ccode class=\"language-psql\"\u003eCREATE TABLE table_name(             \n   column1 datatype,             \n   column2 datatype,        \n   column3 datatype,         \n   .....            \n   columnN datatype,         \n   PRIMARY KEY( one or more columns )          \n   );\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"generate-table-layout-to-create-new-table-before-importing-csv-in-the-db\"\u003eGenerate table layout to create new table before importing csv in the db:\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#generate-table-layout-to-create-new-table-before-importing-csv-in-the-db\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eIn bash terminal:\u003c/p\u003e\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e\u003cspan class=\"token function\"\u003ehead\u003c/span\u003e -n \u003cspan class=\"token number\"\u003e20\u003c/span\u003e table.csv \u003cspan class=\"token operator\"\u003e|\u003c/span\u003e csvsql --no-constraints --tables table_name\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis will give an sql command to crate the new table. The datatypes may have to be changed.\u003c/p\u003e\n\u003ch3 id=\"list-tables-in-a-db\"\u003eList tables in a db\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#list-tables-in-a-db\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cpre class=\"language-psql\"\u003e\u003ccode class=\"language-psql\"\u003e\\d\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"describe-each-table\"\u003eDescribe each table\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#describe-each-table\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cpre class=\"language-psql\"\u003e\u003ccode class=\"language-psql\"\u003e\\d table_name\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"add-a-column\"\u003eAdd a column\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#add-a-column\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cpre class=\"language-psql\"\u003e\u003ccode class=\"language-psql\"\u003eALTER TABLE table_name\nADD COLUMN new_column_name data_type constraint;\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"drop-a-table\"\u003eDrop a table\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#drop-a-table\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cpre class=\"language-psql\"\u003e\u003ccode class=\"language-psql\"\u003eDROP TABLE name;\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"insert-data-in-table\"\u003eInsert data in table\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#insert-data-in-table\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003e⚠️ The table should already exist\u003c/p\u003e\n\u003ch3 id=\"manually\"\u003eManually\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#manually\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cpre class=\"language-psql\"\u003e\u003ccode class=\"language-psql\"\u003eINSERT INTO table_name (column1, column2, column3,...columnN)              \nVALUES (value1_row1, value2_row1, value3_row1,...valueN_row1),        \n         (value1_row2, value2_row2, value3_row2,...valueN_row2),          \n            ....;         \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNo need to specify the columns name if one is adding values for all the columns of the table. But the order of the values should be the same as the column.\u003c/p\u003e\n\u003ch3 id=\"from-a-csv-file\"\u003eFrom a csv file\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#from-a-csv-file\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cpre class=\"language-psql\"\u003e\u003ccode class=\"language-psql\"\u003eCOPY table_name     \nFROM 'path/to/csv'       \nDELIMITER ';'       \nCSV HEADER\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"update-data-in-table\"\u003eUpdate data in table\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#update-data-in-table\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cpre class=\"language-psql\"\u003e\u003ccode class=\"language-psql\"\u003eUPDATE table_name      \nSET column1 = value1,       \n   column2 = value2,       \n   ...        \nWHERE condition;\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"delete-data-from-table\"\u003eDelete data from table\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#delete-data-from-table\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cpre class=\"language-psql\"\u003e\u003ccode class=\"language-psql\"\u003eDELETE FROM table_name        \nWHERE condition;\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"constraints\"\u003eConstraints\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#constraints\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch3 id=\"when-defining-the-table\"\u003eWhen defining the table\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#when-defining-the-table\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cpre class=\"language-psql\"\u003e\u003ccode class=\"language-psql\"\u003eCREATE TABLE TABLE (\n\tcolumn_1 data_type,\n\tcolumn_2 data_type,\n\t… \n   PRIMARY KEY (column_1, column_2),\n   CONSTRAINT constraint_name\n   FOREIGN KEY(fk_columns) \n\tREFERENCES parent_table(parent_key_columns)\n);\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"after-creation\"\u003eAfter creation\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#after-creation\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cpre class=\"language-psql\"\u003e\u003ccode class=\"language-psql\"\u003eALTER TABLE products \nADD PRIMARY KEY (product_no);\n\nALTER TABLE child_table \nADD CONSTRAINT constraint_name \nFOREIGN KEY (fk_columns) \nREFERENCES parent_table (parent_key_columns);\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"some-useful-clauses\"\u003eSome useful clauses\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#some-useful-clauses\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch3 id=\"select-statement\"\u003eSelect statement\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#select-statement\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eThe SELECT statement returns all rows from one or more columns in a table.\u003c/p\u003e\n\u003cpre class=\"language-psql\"\u003e\u003ccode class=\"language-psql\"\u003eSELECT column_1, column_2, ..., column_n    (or * for all columns)     \nFROM table_name       \nother clauses;\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3 id=\"where-clause\"\u003eWhere clause\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#where-clause\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eIf one need to select data that satisfy a specified condition, one can use a WHERE clause as follow:       \u003c/p\u003e\n\u003cpre class=\"language-psql\"\u003e\u003ccode class=\"language-psql\"\u003eSELECT select_list     \nFROM table_name       \nWHERE condition        \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe condition should be true, false or unknown. It can be a boolean expression or a combination of boolean expressions using the AND and OR operators.\u003c/p\u003e\n\u003ch1 id=\"sequence\"\u003eSEQUENCE\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#sequence\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003ch2 id=\"restart-the-sequence-padding\"\u003eRestart the sequence padding\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#restart-the-sequence-padding\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eIf one do a mistake in the emi_external_id incremantation and needs to go back in the sequence:\u003c/p\u003e\n\u003cpre class=\"language-psql\"\u003e\u003ccode class=\"language-psql\"\u003eSELECT setval('samples_padding',1057); #If one want to restart the sequence at 1057\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1 id=\"to-go-further\"\u003eTo go further\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#to-go-further\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cp\u003e\u003ca href=\"https://www.postgresqltutorial.com/\"\u003ehttps://www.postgresqltutorial.com/\u003c/a\u003e\u003c/p\u003e\n\u003chr\u003e\n\u003cstrong\u003eBacklinks\u003c/strong\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"/dendron-dbgi/notes/l5hk8footuy2893u4zi6yvs\"\u003eBasics\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","noteIndex":{"id":"txkHnVTI9AawnquiublXO","title":"The DBGI Dendron notes","desc":"","updated":1688889927268,"created":1645438795591,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"vault"},"contentHash":"fbac06bb8ff15f08a14f40cc7c9e268e","links":[{"type":"wiki","from":{"fname":"root","id":"txkHnVTI9AawnquiublXO","vaultName":"vault"},"value":"open-notebook","position":{"start":{"line":28,"column":53,"offset":1976},"end":{"line":28,"column":70,"offset":1993},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"open-notebook"}},{"type":"wiki","from":{"fname":"root","id":"txkHnVTI9AawnquiublXO","vaultName":"vault"},"value":"welcome","position":{"start":{"line":34,"column":81,"offset":2595},"end":{"line":34,"column":92,"offset":2606},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"welcome"}},{"from":{"fname":"welcome","id":"tofizf0eb38rduuw6ffnzba","vaultName":"vault"},"type":"backlink","position":{"start":{"line":5,"column":27,"offset":59},"end":{"line":5,"column":35,"offset":67},"indent":[]},"value":"root"}],"anchors":{"overview":{"type":"header","text":"Overview","value":"overview","line":8,"column":0,"depth":1},"main-goals":{"type":"header","text":"Main goals","value":"main-goals","line":12,"column":0,"depth":1},"an-open-science-project":{"type":"header","text":"An Open Science project","value":"an-open-science-project","line":18,"column":0,"depth":1},"working-with-the-workshop-doors-open":{"type":"header","text":"Working with the workshop doors open","value":"working-with-the-workshop-doors-open","line":21,"column":0,"depth":2},"open-notebook-science":{"type":"header","text":"Open Notebook Science","value":"open-notebook-science","line":28,"column":0,"depth":2},"whats-new-":{"type":"header","text":"What's new ?!","value":"whats-new-","line":43,"column":0,"depth":2}},"children":["il7c8piddciyg8dw5owj6ui","se2pzun6petcy32hf5j3wuw","bum7d9d6lnc0a863iqaogka","r23kzroton7bo017hsc6lmk","fmlpvd5ebpugd0idxhytk28","iq3hz5b7sskcu56bl8pgbwq","vphzpqwuu98x8sfgfrconej","hl55gsxxo1wlj1igs9mso7p","1sxxmo2bt2eans2xhdorb0q","8yees000uw0bxldzotr8uvw","9p6t4gle5zj5ilkd67j9rud","n9brxvyxekn9b8bv9d8xdik","7ic8gy5h3i6v906dzrig6hy","m0qwxiyv7i2hnkr3fk2m3by","o6r2k35gfsfur2gwgk56ra3","o2psjwj00vl4m8d7rgyfk9f","8u9qb1u3gp4e3osrb73xvor","f7cx4bd1mxjt63d0daza1xb","xoiil9w7pvz3ojhif2a8ppj","o8bu4pl5w2ag7o1h3401qgj","u9u4dax4f23kvq98mtw0ezj","eh30zgccb8kw1z36jlstijv","b17we89hoe3m5ulu9d1t8by","rnoodwuxipqxc8zdxt7kqdm","6c37mounk3i96bftncrvr29","p6xf974t6tqndzis0qjc9j6","165zhtrhauww30lf9dbp8fa","h2jxo1dbamqvqodtuopq9q1","1k6j3afbnh1kiyz95m1kyxz","dwyb49xky735sox320haxga","trzsyfzfrls2if6tjt9dy5u","nnhoqwog50xoiu1bzbn6cyj","q7siltgd71qf2xgppbysw35","tofizf0eb38rduuw6ffnzba","v3eyay0icafeftx6kbyemlm","h8trx40s491czjp1npypo68","eru1s83ybgl3raytc4dgeuz","lykjjec8x2kmqnxjz10nwm6","q8ucho0l7y37kqhprv8ku3k","fynboti1depbjpoz1whdnvt","il17okdfivbzsj1ij63uf8m"],"parent":null,"data":{},"body":"\n# Overview\n\nThe Digital Botanical Gardens Initiative (DBGI, www.dbgi.org) ambitions to explore innovative solutions for the collection, management and sharing of digital information acquired on living botanical collections. A particular focus will be placed on the large scale characterization of the chemodiversity of living plants collections through mass spectrometric approaches. The acquired data will be structured, organized and connected with relevant metadata through [semantic web](https://en.wikipedia.org/wiki/Semantic_Web) technology. The gathered knowledge will then inform ecosystem functioning research and orient [biodiversity conservation](https://en.wikipedia.org/wiki/Conservation_biology) projects. The DBGI initially aims to take advantage of the readily available living collections of Swiss botanical gardens to establish robust and scalable biodiversity digitisation workflows. The ultimate goal is to apply these approaches in the field and at the global scale in wildlife ecosystems. \n\n# Main goals\n\nThe DBGI main goals are briefly summarized below :\n\n![](/assets/images/2022-06-18-17-13-23.png){max-width: 400px, display: block, margin: 0 auto}\n\n# An Open Science project\n\n\n## Working with the workshop doors open\n\n![](/assets/images/2022-06-18-17-47-56.png){max-width: 400px}\n\nA way of working briefly described by Andy Matuschak here https://notes.andymatuschak.org/z21cgR9K3UcQ5a7yPsj2RUim3oM2TzdBByZu. \n\n\n## Open Notebook Science\n\nIf we apply this \"working with the workshop doors open\" idea to a scientific research endeavor we understand it as respecting the core concepts of Open Science. These is more precisely the principle of Open Notebook Science https://en.wikipedia.org/wiki/Open-notebook_science\n\nFor the projects of the DBGI we will follow such an Open Notebook Science approach in order to share early ideas and results but also the less shiny parts of the research projects. \n\nYou can follow the DBGI related Open Notebooks here [[open-notebook]].\n\nExpect to find strange ideas, badly formulated text and poorly written code. However if you have time and interest you should be able to participate at each step of the process. Hopefully this will lead to enhanced collaboration and participation. Maybe yes, maybe not. Let's make it a methodological experiment !\n\nEach pages of this website are written in markdown and hosted on Github. You can edit them by clicking on the \"Click here to edit this page on Github !\" link at the bottom of the page. See down there 👇\n\nIf you are willing to participate the the DBGI Dendron notes have a look at the [[welcome]] section to get you started !\n\n\n## What's new ?!\n\nThis web site might not necessarily seem to be change since the last time you came to visit.\n\nIf something moved recently you should be able to track this over there https://github.com/digital-botanical-gardens-initiative/dendron-dbgi/commits/main"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"dendronVersion":"0.84.0","enableFullHierarchyNoteTitle":false,"enableHandlebarTemplates":true,"hooks":{"onCreate":[{"id":"hello","pattern":"hello.*","type":"js"}]}},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"DBGI Dendron page","description":"Open Notebook Science in the DBGI"},"github":{"enableEditLink":true,"editLinkText":"Participate and click here to edit this page on Github !","editBranch":"main","editViewMode":"tree","editRepository":"https://github.com/digital-botanical-gardens-initiative/dendron-dbgi"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"lookup","enableMermaid":true,"enableHierarchyDisplay":true,"assetsPrefix":"/dendron-dbgi","siteUrl":"https://digital-botanical-gardens-initiative.github.io","duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"ga":{"tracking":"G-EPEXM5GLLG"},"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"xfo9r506ukemq0r2191kqkl"},"buildId":"lcvOAFe71opK26LFlnkMt","assetPrefix":"/dendron-dbgi","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>